# é€šç”¨é€šçŸ¥ç³»ç»Ÿä½¿ç”¨æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

é€šç”¨é€šçŸ¥ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº Vue 3 çš„ç°ä»£åŒ–é€šçŸ¥ç»„ä»¶ï¼Œä¸ºæ•´ä¸ªç½‘ç«™æä¾›ç»Ÿä¸€ã€ç¾è§‚çš„é€šçŸ¥ä½“éªŒã€‚ç³»ç»Ÿé‡‡ç”¨æš—è‰²ä¸»é¢˜è®¾è®¡ï¼Œä¸ç½‘ç«™æ•´ä½“é£æ ¼ä¿æŒä¸€è‡´ã€‚

## ğŸ¯ ç‰¹æ€§

- **ç»Ÿä¸€çš„æš—è‰²ä¸»é¢˜**ï¼šä¸ç½‘ç«™æ•´ä½“é£æ ¼å®Œç¾åŒ¹é…
- **å¤šç§é€šçŸ¥ç±»å‹**ï¼šæ”¯æŒæˆåŠŸã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯å››ç§ç±»å‹
- **ä¼˜é›…çš„åŠ¨ç”»æ•ˆæœ**ï¼šæ»‘å…¥æ»‘å‡ºåŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **è‡ªåŠ¨å…³é—­åŠŸèƒ½**ï¼šå¯è®¾ç½®æŒç»­æ—¶é—´ï¼Œæ”¯æŒæ‰‹åŠ¨å…³é—­
- **è¿›åº¦æ¡æ˜¾ç¤º**ï¼šæ˜¾ç¤ºè‡ªåŠ¨å…³é—­çš„å€’è®¡æ—¶
- **å“åº”å¼è®¾è®¡**ï¼šåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä¹Ÿèƒ½è‰¯å¥½æ˜¾ç¤º
- **å…¨å±€ç®¡ç†**ï¼šé€šè¿‡æœåŠ¡ç±»ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é€šçŸ¥

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **Notification.vue** - å•ä¸ªé€šçŸ¥ç»„ä»¶
2. **NotificationManager.vue** - é€šçŸ¥ç®¡ç†å™¨ç»„ä»¶
3. **notification.js** - é€šçŸ¥æœåŠ¡ç±»

### æ–‡ä»¶ç»“æ„

```
frontend/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Notification.vue          # å•ä¸ªé€šçŸ¥ç»„ä»¶
â”‚   â””â”€â”€ NotificationManager.vue   # é€šçŸ¥ç®¡ç†å™¨
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ notification.js           # é€šçŸ¥æœåŠ¡ç±»
â””â”€â”€ App.vue                       # å…¨å±€æ³¨å†Œé€šçŸ¥ç®¡ç†å™¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯¼å…¥é€šçŸ¥æœåŠ¡

```javascript
import notificationService from '@/utils/notification.js'
```

### 2. åŸºæœ¬ä½¿ç”¨

```javascript
// æˆåŠŸé€šçŸ¥
notificationService.success('æ“ä½œæˆåŠŸï¼')

// é”™è¯¯é€šçŸ¥
notificationService.error('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•')

// è­¦å‘Šé€šçŸ¥
notificationService.warning('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°æ®')

// ä¿¡æ¯é€šçŸ¥
notificationService.info('è¿™æ˜¯ä¸€æ¡æç¤ºä¿¡æ¯')
```

### 3. é«˜çº§ç”¨æ³•

```javascript
// è‡ªå®šä¹‰æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
notificationService.success('æ“ä½œæˆåŠŸï¼', { duration: 5000 })

// ç¦ç”¨è‡ªåŠ¨å…³é—­
notificationService.error('é‡è¦é”™è¯¯ä¿¡æ¯', { autoClose: false })

// ä½¿ç”¨é€šç”¨ show æ–¹æ³•
notificationService.show('è‡ªå®šä¹‰æ¶ˆæ¯', 'success', { duration: 3000 })
```

## ğŸ“š API å‚è€ƒ

### NotificationService ç±»

#### æ–¹æ³•åˆ—è¡¨

| æ–¹æ³• | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|--------|------|
| `success(message, options)` | message: string, options: object | number | æ˜¾ç¤ºæˆåŠŸé€šçŸ¥ |
| `error(message, options)` | message: string, options: object | number | æ˜¾ç¤ºé”™è¯¯é€šçŸ¥ |
| `warning(message, options)` | message: string, options: object | number | æ˜¾ç¤ºè­¦å‘Šé€šçŸ¥ |
| `info(message, options)` | message: string, options: object | number | æ˜¾ç¤ºä¿¡æ¯é€šçŸ¥ |
| `show(message, type, options)` | message: string, type: string, options: object | number | æ˜¾ç¤ºæŒ‡å®šç±»å‹é€šçŸ¥ |
| `clear()` | æ—  | void | æ¸…é™¤æ‰€æœ‰é€šçŸ¥ |

#### å‚æ•°è¯´æ˜

**message (string)**

- é€šçŸ¥æ¶ˆæ¯å†…å®¹
- æ”¯æŒ HTML æ ‡ç­¾ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰

**type (string)**

- é€šçŸ¥ç±»å‹ï¼š`'success'` | `'error'` | `'warning'` | `'info'`
- é»˜è®¤ä¸º `'info'`

**options (object)**

- `duration`: è‡ªåŠ¨å…³é—­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 3000
- `autoClose`: æ˜¯å¦è‡ªåŠ¨å…³é—­ï¼Œé»˜è®¤ true

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. è¡¨å•éªŒè¯

```javascript
// è¡¨å•æäº¤éªŒè¯
const submitForm = async () => {
  if (!formData.username) {
    notificationService.warning('è¯·è¾“å…¥ç”¨æˆ·å')
    return
  }
  
  if (!formData.email) {
    notificationService.warning('è¯·è¾“å…¥é‚®ç®±åœ°å€')
    return
  }
  
  try {
    await api.submitForm(formData)
    notificationService.success('è¡¨å•æäº¤æˆåŠŸï¼')
  } catch (error) {
    notificationService.error('æäº¤å¤±è´¥ï¼š' + error.message)
  }
}
```

### 2. API è¯·æ±‚å¤„ç†

```javascript
// API è¯·æ±‚å“åº”å¤„ç†
const fetchData = async () => {
  try {
    const response = await fetch('/api/data')
    const result = await response.json()
    
    if (result.success) {
      notificationService.success('æ•°æ®åŠ è½½æˆåŠŸ')
      return result.data
    } else {
      notificationService.error('æ•°æ®åŠ è½½å¤±è´¥ï¼š' + result.message)
    }
  } catch (error) {
    notificationService.error('ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥')
  }
}
```

### 3. æ–‡ä»¶æ“ä½œ

```javascript
// æ–‡ä»¶ä¸Šä¼ 
const uploadFile = async (file) => {
  if (!file) {
    notificationService.warning('è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶')
    return
  }
  
  if (file.size > 10 * 1024 * 1024) {
    notificationService.warning('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 10MB')
    return
  }
  
  try {
    const formData = new FormData()
    formData.append('file', file)
    
    const response = await fetch('/api/upload', {
      method: 'POST',
      body: formData
    })
    
    if (response.ok) {
      notificationService.success('æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼')
    } else {
      notificationService.error('æ–‡ä»¶ä¸Šä¼ å¤±è´¥')
    }
  } catch (error) {
    notificationService.error('ä¸Šä¼ è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯')
  }
}
```

### 4. ç”¨æˆ·æ“ä½œç¡®è®¤

```javascript
// åˆ é™¤ç¡®è®¤
const deleteItem = async (item) => {
  if (window.confirm(`ç¡®å®šè¦åˆ é™¤ "${item.name}" å—ï¼Ÿ`)) {
    try {
      await api.deleteItem(item.id)
      notificationService.success('åˆ é™¤æˆåŠŸ')
      // åˆ·æ–°åˆ—è¡¨
      fetchItems()
    } catch (error) {
      notificationService.error('åˆ é™¤å¤±è´¥ï¼š' + error.message)
    }
  }
}
```

### 5. æ‰¹é‡æ“ä½œ

```javascript
// æ‰¹é‡åˆ é™¤
const batchDelete = async (items) => {
  if (items.length === 0) {
    notificationService.warning('è¯·é€‰æ‹©è¦åˆ é™¤çš„é¡¹ç›®')
    return
  }
  
  if (!window.confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${items.length} ä¸ªé¡¹ç›®å—ï¼Ÿ`)) {
    return
  }
  
  try {
    const promises = items.map(item => api.deleteItem(item.id))
    await Promise.all(promises)
    notificationService.success(`æˆåŠŸåˆ é™¤ ${items.length} ä¸ªé¡¹ç›®`)
    fetchItems()
  } catch (error) {
    notificationService.error('æ‰¹é‡åˆ é™¤å¤±è´¥ï¼š' + error.message)
  }
}
```

## ğŸ¨ æ ·å¼å®šåˆ¶

### é€šçŸ¥ç±»å‹æ ·å¼

```css
/* æˆåŠŸé€šçŸ¥ - ç»¿è‰²ä¸»é¢˜ */
.notification-success {
  border-color: rgba(34, 197, 94, 0.3);
}

/* é”™è¯¯é€šçŸ¥ - çº¢è‰²ä¸»é¢˜ */
.notification-error {
  border-color: rgba(239, 68, 68, 0.3);
}

/* è­¦å‘Šé€šçŸ¥ - é»„è‰²ä¸»é¢˜ */
.notification-warning {
  border-color: rgba(245, 158, 11, 0.3);
}

/* ä¿¡æ¯é€šçŸ¥ - è“è‰²ä¸»é¢˜ */
.notification-info {
  border-color: rgba(0, 255, 255, 0.3);
}
```

### è‡ªå®šä¹‰æ ·å¼

å¦‚éœ€è‡ªå®šä¹‰é€šçŸ¥æ ·å¼ï¼Œå¯ä»¥ä¿®æ”¹ `Notification.vue` ç»„ä»¶ä¸­çš„ CSSï¼š

```css
.notification {
  /* è‡ªå®šä¹‰èƒŒæ™¯ */
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  
  /* è‡ªå®šä¹‰è¾¹æ¡† */
  border: 1px solid rgba(0, 255, 255, 0.3);
  
  /* è‡ªå®šä¹‰é˜´å½± */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  
  /* è‡ªå®šä¹‰æ¨¡ç³Šæ•ˆæœ */
  backdrop-filter: blur(10px);
}
```

## ğŸ”§ é…ç½®é€‰é¡¹

### å…¨å±€é…ç½®

åœ¨ `App.vue` ä¸­é…ç½®é€šçŸ¥ç®¡ç†å™¨ï¼š

```vue
<template>
  <div id="app">
    <!-- åº”ç”¨å†…å®¹ -->
    <router-view />
    
    <!-- é€šçŸ¥ç®¡ç†å™¨ -->
    <NotificationManager ref="notificationManager" />
  </div>
</template>

<script>
import { ref, onMounted } from 'vue'
import NotificationManager from './components/NotificationManager.vue'
import notificationService from './utils/notification.js'

export default {
  name: 'App',
  components: {
    NotificationManager
  },
  setup() {
    const notificationManager = ref(null)
    
    onMounted(() => {
      // è®¾ç½®é€šçŸ¥ç®¡ç†å™¨
      notificationService.setManager(notificationManager.value)
    })
    
    return {
      notificationManager
    }
  }
}
</script>
```

### é»˜è®¤é…ç½®

```javascript
// é»˜è®¤é…ç½®
const defaultConfig = {
  duration: 3000,        // é»˜è®¤æŒç»­æ—¶é—´ 3 ç§’
  autoClose: true,       // é»˜è®¤è‡ªåŠ¨å…³é—­
  maxNotifications: 5,   // æœ€å¤§é€šçŸ¥æ•°é‡
  position: 'top-right'  // æ˜¾ç¤ºä½ç½®
}
```

## ğŸ“± å“åº”å¼è®¾è®¡

é€šçŸ¥ç³»ç»Ÿåœ¨ä¸åŒè®¾å¤‡ä¸Šçš„è¡¨ç°ï¼š

### æ¡Œé¢ç«¯

- é€šçŸ¥æ˜¾ç¤ºåœ¨å³ä¸Šè§’
- æœ€å°å®½åº¦ 300pxï¼Œæœ€å¤§å®½åº¦ 500px
- æ”¯æŒæ‚¬åœæ•ˆæœ

### ç§»åŠ¨ç«¯

- é€šçŸ¥å æ»¡å±å¹•å®½åº¦ï¼ˆå·¦å³å„ç•™ 10px è¾¹è·ï¼‰
- è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°
- ä¼˜åŒ–è§¦æ‘¸äº¤äº’

## ğŸš¨ æœ€ä½³å®è·µ

### 1. æ¶ˆæ¯å†…å®¹

```javascript
// âœ… å¥½çš„åšæ³•
notificationService.success('ç”¨æˆ·æ³¨å†ŒæˆåŠŸ')
notificationService.error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®')
notificationService.warning('å¯†ç é•¿åº¦è‡³å°‘éœ€è¦ 8 ä½å­—ç¬¦')

// âŒ é¿å…çš„åšæ³•
notificationService.success('OK')
notificationService.error('Error')
notificationService.warning('Warning')
```

### 2. é”™è¯¯å¤„ç†

```javascript
// âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
try {
  const result = await apiCall()
  notificationService.success('æ“ä½œæˆåŠŸ')
} catch (error) {
  console.error('API è°ƒç”¨å¤±è´¥:', error)
  
  if (error.code === 'NETWORK_ERROR') {
    notificationService.error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®')
  } else if (error.code === 'VALIDATION_ERROR') {
    notificationService.warning('è¾“å…¥æ•°æ®æ ¼å¼ä¸æ­£ç¡®')
  } else {
    notificationService.error('æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')
  }
}
```

### 3. æ€§èƒ½ä¼˜åŒ–

```javascript
// âœ… é¿å…é¢‘ç¹é€šçŸ¥
let lastNotificationTime = 0
const NOTIFICATION_COOLDOWN = 1000 // 1ç§’å†·å´æ—¶é—´

const showNotification = (message, type) => {
  const now = Date.now()
  if (now - lastNotificationTime < NOTIFICATION_COOLDOWN) {
    return
  }
  
  lastNotificationTime = now
  notificationService[type](message)
}
```

### 4. å›½é™…åŒ–æ”¯æŒ

```javascript
// âœ… æ”¯æŒå¤šè¯­è¨€
const t = (key) => i18n.t(key)

notificationService.success(t('messages.success'))
notificationService.error(t('messages.error'))
notificationService.warning(t('messages.warning'))
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. é€šçŸ¥ä¸æ˜¾ç¤º

**é—®é¢˜**ï¼šè°ƒç”¨é€šçŸ¥æ–¹æ³•åæ²¡æœ‰æ˜¾ç¤ºé€šçŸ¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

```javascript
// æ£€æŸ¥é€šçŸ¥ç®¡ç†å™¨æ˜¯å¦å·²åˆå§‹åŒ–
if (!notificationService.manager) {
  console.error('é€šçŸ¥ç®¡ç†å™¨æœªåˆå§‹åŒ–')
  // ç¡®ä¿åœ¨ App.vue ä¸­æ­£ç¡®è®¾ç½®äº†ç®¡ç†å™¨
}
```

#### 2. æ ·å¼ä¸ç”Ÿæ•ˆ

**é—®é¢˜**ï¼šé€šçŸ¥æ ·å¼ä¸é¢„æœŸä¸ç¬¦

**è§£å†³æ–¹æ¡ˆ**ï¼š

- æ£€æŸ¥ CSS æ˜¯å¦æ­£ç¡®åŠ è½½
- ç¡®è®¤æ²¡æœ‰å…¶ä»–æ ·å¼è¦†ç›–
- éªŒè¯ Vue ç»„ä»¶æ˜¯å¦æ­£ç¡®æ¸²æŸ“

#### 3. é€šçŸ¥é‡å 

**é—®é¢˜**ï¼šå¤šä¸ªé€šçŸ¥é‡å æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**ï¼š

```javascript
// æ¸…é™¤ä¹‹å‰çš„é€šçŸ¥
notificationService.clear()
notificationService.success('æ–°é€šçŸ¥')
```

### è°ƒè¯•æŠ€å·§

```javascript
// å¯ç”¨è°ƒè¯•æ¨¡å¼
const DEBUG = process.env.NODE_ENV === 'development'

if (DEBUG) {
  console.log('é€šçŸ¥æœåŠ¡çŠ¶æ€:', {
    manager: !!notificationService.manager,
    notifications: notificationService.manager?.notifications?.length || 0
  })
}
```

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½

### 1. è‡ªå®šä¹‰é€šçŸ¥ç±»å‹

```javascript
// æ‰©å±•é€šçŸ¥ç±»å‹
notificationService.custom = (message, options = {}) => {
  return notificationService.show(message, 'custom', {
    ...options,
    icon: 'ğŸ‰',
    color: '#ff6b6b'
  })
}
```

### 2. é€šçŸ¥æŒä¹…åŒ–

```javascript
// æŒä¹…åŒ–é‡è¦é€šçŸ¥
notificationService.persistent = (message, type = 'info') => {
  return notificationService.show(message, type, {
    autoClose: false,
    persistent: true
  })
}
```

### 3. é€šçŸ¥é˜Ÿåˆ—

```javascript
// é€šçŸ¥é˜Ÿåˆ—ç®¡ç†
class NotificationQueue {
  constructor() {
    this.queue = []
    this.processing = false
  }
  
  add(message, type, options) {
    this.queue.push({ message, type, options })
    this.process()
  }
  
  async process() {
    if (this.processing || this.queue.length === 0) return
    
    this.processing = true
    const notification = this.queue.shift()
    
    notificationService.show(notification.message, notification.type, notification.options)
    
    // ç­‰å¾…é€šçŸ¥æ˜¾ç¤ºå®Œæˆ
    await new Promise(resolve => setTimeout(resolve, 1000))
    
    this.processing = false
    this.process()
  }
}
```

## ğŸ“„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-12)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¨ æš—è‰²ä¸»é¢˜è®¾è®¡
- ğŸ“± å“åº”å¼æ”¯æŒ
- ğŸ”§ å®Œæ•´çš„ API æ¥å£
- ğŸ“š è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœæ‚¨æƒ³ä¸ºé€šçŸ¥ç³»ç»Ÿè´¡çŒ®ä»£ç ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥é¡¹ç›®çš„ Issues é¡µé¢
3. åˆ›å»ºæ–°çš„ Issue æè¿°é—®é¢˜

---

**æ³¨æ„**ï¼šæœ¬é€šçŸ¥ç³»ç»Ÿä¸“ä¸ºæš—è‰²ä¸»é¢˜è®¾è®¡ï¼Œå¦‚éœ€é€‚é…å…¶ä»–ä¸»é¢˜ï¼Œè¯·ç›¸åº”è°ƒæ•´ CSS æ ·å¼ã€‚
